name: yapf

on:
  push:
    branches:
      - main

jobs:
  check-format:
    name: Check formatting with yapf
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v2
      with:
        fetch-depth: 0
    - name: 'Run yapf'
      uses: AlexanderMelde/yapf-action@master
      with:
        args: --verbose --style=/github/workspace/.style.yapf
